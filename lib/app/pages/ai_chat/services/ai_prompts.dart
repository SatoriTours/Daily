/// AI 提示词集合
///
/// 集中管理所有 AI 交互使用的提示词模板
class AIPrompts {
  AIPrompts._();

  /// 意图分析提示词
  static const intentAnalysis = '''
请分析以下用户问题的意图，返回最合适的分类。

分类说明：
- articles: 查找文章、阅读内容、网页收藏
- diary: 查找日记、个人记录、今天/昨天的内容
- books: 查找书籍、读书笔记
- summary: 需要总结、汇总多种内容
- general: 通用搜索，不确定具体类型

用户问题：{query}

请只返回以下之一：articles, diary, books, summary, general

意图分类：''';

  /// 关键词提取提示词
  static const keywordExtraction = '''
你是一个智能关键词提取专家，需要从用户问题中提取最全面的搜索关键词。

用户问题：{query}

关键词提取规则（按优先级）：

1. **核心概念提取**
   - 识别主题实体（产品、服务、概念、品牌等）
   - 移除无意义词（如何、怎么、什么、查找、请问等）
   - 保留专有名词、技术术语、品牌名称

2. **同义词和别称扩展**（极其重要！）
   - 中英文互译：iPhone → iPhone 苹果手机
   - 全称简称：电话卡 → 电话卡 手机卡 SIM卡 电信卡
   - 品牌与通用名：大疆 → 大疆 DJI 无人机
   - 口语书面语：搞定 → 办理 申请 购买 获取

3. **场景关联词扩展**
   - 相关产品：电话卡 → 流量卡 上网卡 数据卡
   - 相关场景：海外 → 国外 出国 境外 国际 漫游 留学 旅游
   - 相关动作：办理 → 申请 购买 激活 注册 开通

4. **细分领域词**
   - 运营商：移动 联通 电信 中国移动 中国联通 中国电信
   - 服务商：虚拟运营商 MVNO 第三方
   - 产品类型：实体卡 eSIM 虚拟卡

5. **组合搭配**
   - 两两组合核心词生成新关键词
   - 例如："海外 电话卡" → "海外电话卡 国际电话卡 境外手机卡 出国上网卡"

输出要求：
- 生成 15-20 个关键词（越多越好，宁多勿少）
- 用空格分隔
- 按相关性排序（最核心的在前）
- 只输出关键词，不要任何解释说明
- 确保覆盖所有可能的表述方式

示例（仅供参考）：
输入："海外电话卡如何办理"
输出："海外电话卡 国际电话卡 境外手机卡 出国上网卡 国外SIM卡 电话卡 手机卡 SIM卡 海外 国外 境外 出国 国际 办理 申请 购买 激活 开通 流量卡 上网卡"

现在请处理：

搜索关键词：''';

  /// 过滤条件提取提示词
  static const filterExtraction = '''
分析用户问题，判断是否需要特殊过滤条件。

用户问题：{query}

请判断：
1. 是否只查找"收藏"的内容？（包含"收藏"、"favorite"、"喜欢"等词）
2. 是否只查找有"标签"的内容？（明确提到"标签"、"tag"）

请返回 JSON 格式：
{"favorite": true/false, "hasTags": true/false}

只返回 JSON，不要其他内容：''';

  /// 日期范围提取提示词
  static const dateExtraction = '''
分析用户问题中的时间信息，返回对应的时间范围类型。

用户问题：{query}

时间类型选项：
- today: 今天
- yesterday: 昨天
- recent: 最近（最近7天）
- this_week: 本周/这周
- last_week: 上周
- this_month: 本月/这个月
- none: 没有时间限制

请只返回以下之一：today, yesterday, recent, this_week, last_week, this_month, none

时间类型：''';

  /// 空结果分析提示词
  static const emptyResultAnalysis = '''
用户提问："{query}"

我在应用内搜索了文章、日记、书籍，但没有找到任何结果。

请分析这个问题属于哪种类型：
1. search_related: 是应用内容搜索，只是数据库中没有相关内容（如"查找关于Flutter的文章"）
2. external_question: 不是搜索问题，而是询问应用外部信息的通用问题（如"怎么注册账号"、"推荐一个工具"）

请只返回：search_related 或 external_question

类型：''';

  /// AI答案生成提示词
  static const answerGeneration = '''
你是一个专业又友好的助手。请基于以下内容回答用户问题。

用户问题：{query}

相关内容：
{content}

请用自然对话的方式回答,就像和朋友聊天一样:

1. 开头直接回答问题(1-2句话)
2. 如果有重要信息,用列表形式列出关键点
3. 必要时提供详细说明或步骤

格式要求:
- 使用 Markdown 格式让内容更易读
- 重点信息用 **加粗** 标记
- 列表用 - 或数字
- 如果有步骤,用数字列表
- 可以适当使用表情符号 ✨ 让内容生动
- 只基于提供的内容回答,不要编造

回答：''';
}

/// 用户消息模板
///
/// 集中管理所有用户交互的消息模板
class AIMessages {
  AIMessages._();

  /// 外部问题回复
  static const externalQuestionResponse = '''
🤖 **AI助手说明**

很抱歉，我目前只能帮您搜索应用内的内容（文章、日记、书籍）。

对于"{query}"这类问题，我暂时无法回答。

**我可以帮您**:
• 📄 搜索收藏的文章
• 📔 查找日记内容
• 📖 搜索读书笔记
• 📋 总结已有内容

请尝试问我关于应用内容的问题，例如：
"查找最近的日记"、"搜索关于Flutter的文章"等。''';

  /// 无结果回复
  static const noResultsResponse = '''
😔 **未找到相关内容**

很抱歉，没有找到与"{query}"相关的内容。

**建议**:
• 尝试使用不同的关键词
• 减少搜索条件的限制
• 检查拼写是否正确''';
}
